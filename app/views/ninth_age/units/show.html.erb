<div class="col-md-12 col-xs-12 col-sm-12 unit-<%= @unit.id %>">
  <article style="margin-bottom:40px;">
    <div class="col-md-12">
      <div class="text-left col-md-2">
        <% @unit.organisations.where(isSpecialRule: false).each do |organisation| %>
            <% unless organisation.logo.nil? %>
                <%= image_tag organisation.medium_logo_url, size: '75x75', alt: organisation.name, border: 0 %>
            <% end %>
        <% end %>
      </div>
      <div class=" col-md-8">
        <%if @unit.max > 0 %>
        <h3 class="pull-right">0 - <%= @unit.max %> per Army</h3>
        <%end%>
        <h3 class="text-left"><strong>
          <% if @unit.value_points == 0 %><%= t('ninth_age.figurine.mount') %>
          <% end %> <%= @unit.name %></strong> <%= number_with_precision(@unit.value_points, precision: 0) %> <%= t('ninth_age.figurine.pts') %>
          <%if @unit.max_size > 1 %>
          <br/><span class="small-text"><%=@unit.min_size%> models, may add up to <%=@unit.max_size - @unit.min_size%> models <%= number_with_precision(@unit.troops.first.value_points, precision: 0) %> pts/model</span>
          <%end%>
        </h3>
      </div>
      <div class="text-right col-md-2">
        <% @unit.organisations.where(isSpecialRule: true).each do |organisation| %>
            <% unless organisation.logo.nil? %>
                <%= image_tag organisation.medium_logo_url, size: '50x50', alt: organisation.name, border: 0 %>
            <% end %>
        <% end %>
      </div>
    </div>
    <div class="col-md-12">
      <table class="content-stats">
        <thead>
        <tr>
          <td><%= t('army_list_unit.show.troops.name') %></td>
          <td><%= t('army_list_unit.show.troops.M') %></td>
          <td><%= t('army_list_unit.show.troops.WS') %></td>
          <td><%= t('army_list_unit.show.troops.BS') %></td>
          <td><%= t('army_list_unit.show.troops.S') %></td>
          <td><%= t('army_list_unit.show.troops.T') %></td>
          <td><%= t('army_list_unit.show.troops.W') %></td>
          <td><%= t('army_list_unit.show.troops.I') %></td>
          <td><%= t('army_list_unit.show.troops.A') %></td>
          <td><%= t('army_list_unit.show.troops.LD') %></td>
          <td><%= t('army_list_unit.show.troops.type') %></td>
        </tr>
        </thead>
        <tbody>
        <% @unit.troops.each do |troop| %>
            <tr>
              <td><%= characteristic troop.name %></td>
              <td><%= characteristic troop.M %></td>
              <td><%= characteristic troop.WS %></td>
              <td><%= characteristic troop.BS %></td>
              <td><%= characteristic troop.S %></td>
              <td><%= characteristic troop.T %></td>
              <td><%= characteristic troop.W %></td>
              <td><%= characteristic troop.I %></td>
              <td><%= characteristic troop.A %></td>
              <td><%= characteristic troop.LD %></td>
              <td><%= troop.troop_type.try(:name) %></td>
            </tr>
        <% end %>
        </tbody>
      </table>
    </div>
    <div class="col-md-3">
      <h3><%= t('army_list_unit.show.special_rules') %></h3>
      <div>
        <% @unit.special_rule_unit_troops.where(:troop => nil).map(&:special_rule).each do |special_rule| %>
            • <%= special_rule.name %><br/>
        <% end %>
      </div>
      <div>
        <% @unit.troops.each do |troop| %>
            <% if troop.special_rule_unit_troops.map(&:special_rule).count > 0 %>
                <h4><%= troop.name %></h4>
                <% troop.special_rule_unit_troops.map(&:special_rule).each do |special_rule| %>
                    • <%= special_rule.name %><br/>
                <% end %>
            <% end %>
        <% end %>
      </div>
    </div>
    <div class="col-md-3">
      <h3><%= t('army_list_unit.show.equipments') %></h3>
      <div>
        <% @unit.equipment_unit_troops.map(&:equipment).each do |equipment| %>
            • <%= equipment.name %><br/>
        <% end %>
      </div>
    </div>
    <div class="col-md-6">
      <h3><%= t('army_list_unit.show.unit_options') %></h3>
      <div>
        <% @unit.unit_options.where(:parent => nil).order(:position).each do |unit_option| %>
          <% if unit_option.magic_id != nil %>
            <p>•M <%= unit_option.magic.name %></p>
          <% else %>
            <p>• <%= unit_option.name %> <% if unit_option.value_points? %><span class="pull-right"><%if unit_option.is_magic_items%>up to<%end%> <%= number_with_precision(unit_option.value_points, precision: 0)  %> pts<% if unit_option.is_per_model %> / model <%end%></span><%end%></p>
            <% unit_option.children.order(:position).each do |children| %>
                <p class="option-children">• <%= children.name %><% if children.value_points? %><span class="pull-right"><%if unit_option.is_magic_items%>up to<%end%> <%= number_with_precision(children.value_points, precision: 0) %> pts<% if children.is_per_model %> / model <%end%></span><%end%></p>
            <% end %>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="clearfix"></div>
  </article>
</div>